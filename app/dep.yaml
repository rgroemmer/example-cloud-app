apiVersion: apps/v1
kind: Deployment
metadata:
  name: notebook
  namespace: default
  labels:
    app: notebook
spec:
  selector:
    matchLabels:
      app: notebook
  replicas: 1
  template:
    metadata:
      labels:
        app: notebook
    spec:
      containers:
        - name: notebook
          image: reg3.infra.ske.eu01.stackit.cloud/example/cloud-app/three-tier-app-14fcb8f71f2eabd30fe9f72bd9bce90b@sha256:393c82fe485f45082ff4cbe7c2f6bf9bd893a4b329734804c09d53c8ce78433c
          env:
            - name: CONNECTION_STR
              valueFrom:
                secretKeyRef:
                  name: notebook-db-creds
                  key: attribute.uri
          ports:
            - containerPort: 8080
              name: http
